"use strict";var ctrl=angular.module("clControllers",["clServices"]);ctrl.controller("MainCtrl",["$scope","Events",function(e,t){var n=t.query(function(){e.eventOrder="date";e.inFuture=function(e){return new Date(e.date)>new Date};var t=0;while(t<n.length){if(!e.inFuture(n[t])){n.splice(t,1)}else{t++}}e.events=n})}]);ctrl.controller("OutlineCtrl",["$scope","Lecture",function(e,t){e.lectures=t.query(function(){var t=0;while(e.lectures[t].done){t++}e.i=t});e.isNext=function(t){return t===e.lectures[e.i]&&!t.done};e.isLater=function(t){return t!==e.lectures[e.i]&&!t.done};e.isDone=function(e){return e.done}}]);ctrl.controller("LectureCtrl",["$scope","$routeParams","Lecture",function(e,t,n){n.query(function(n){e.pending=!n[parseInt(t.lectureId)-1].done});e.lecture=n.get({lectureId:t.lectureId})}]);ctrl.controller("ExerciseListCtrl",["$scope","Exercises",function(e,t){e.categories=t.query()}]);ctrl.controller("QuestionsCtrl",["$scope","$routeParams","Exercises",function(e,t,n){var r=n.query(function(){var n=parseInt(t.categoryId)-1;e.title=r[n]});e.itemsPerPage=5;e.currentPage=1;e.capPrev="الصفحة السابقة";e.capNext="الصفحة التالية";var i=function(){var t=(e.currentPage-1)*e.itemsPerPage;var n=t+e.itemsPerPage;e.shownContent=e.sections[0].questions.slice(t,n)};var s=function(){e.itemsCount=e.sections[0].questions.length;i()};e.sections=n.query({categoryId:t.categoryId},function(){s()});e.pageChanged=function(){i()};e.showPages=function(){return e.itemsCount>e.itemsPerPage}}])